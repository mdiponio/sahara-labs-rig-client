\chapter{Rig Type Page Development}
When a user is granted access to a rig, they are directed to a rig specific page that displays the interface for the rig, or instructions on how to access the rig.
There is a standard template for the rig page which includes the:
\begin{itemize}
	\item header
	\item footer
	\item rig name (from the Rig Client)
	\item a Session Timer panel including the amount of time the session has been active and a countdown of the remaining session time (according to the session duration configured per permission)
	\item “Feedback” button
	\item “Finish Session” button
	\item “Logout” button
\end{itemize}

Additionally, if no rig specific page exists, the default Remote Desktop rig page is used which includes:
\begin{itemize}
	\item Remote Desktop Launch element
	\item A camera element centred in the page
	\item “Video Format” element allowing users to select the format the want (configured in the rig client properties file, see Rig Client Development Handbook)
\end{itemize}

The rig specific interface is generated using a “partial script” which is rendered in addition to the standard template.  

The figure below indicates some of the optional and mandatory parameters on the rig page. Please note that the rig name is an optional parameter and the buttons on the left and right can be repositioned if required (eg all moved to the left hand side).

{\em include figure}
Figure 5 - Screen shot of example rig type page

\section{Rig Specific Elements}
The Sahara rig page development has favoured the use of re-usable classes that render themselves, rather than explicit html for creating the rig pages.  Users are free to implement their elements as they would like, but we provide a guide as to how it has been done by the Sahara team.

Please see Appendix C  for a list of the elements that are currently available.

In order to create a rig element elementName, following the Sahara style, the following needs to be completed:
\begin{itemize}
	\item Create a partial script INSTALL\_DIR/library/Sahara/Session/Element/<ElementName>/<\_elementName>.phtml directory that includes the html for the element itself
	\item Create a PHP class for your element that extends Sahara\_Session\_Element: INSTALL\_DIR/library/Sahara/Session/Element/<ElementName>.php. This class must implement the abstract method render() which should return the markup of the generated element to add to the web page.  This is best implemented using the “view renderer” that each element has to render the partial view script of the element..
	\item If required, put CSS information in INSTALL\_DIR/public/css/elements directory.
	\item If required, put any Javascript function in the INSTALL\_DIR/public/js/elements directory.
\end{itemize}

\section{Rig Specific Partial Script}
To create a rig specific partial script the following convention must be applied:
\begin{itemize}
	\item Create a directory INSTALL\_DIR/institution/instition\_name/scripts where institution\_name is the name configured in the rig client properties file, eg C: Program Files/Sahara/WI/institution/UTS/scripts”
	\item Within the new directory create the file RigType.phtml where RigType is the rig type configured in the rig client properties file.
\end{itemize}

This partial script should have the rendering for what is to be displayed on the rig page and how this should be done to accommodate the rig interface
Some options for this are, already created elements, such as:
\begin{itemize}
	\item RDP Launch element which allows a user to click on a “Launch” button and gain access to a Remote Desktop Session
	\item This is configured in the rigclient.properties file by changing the following Remote\_Desktop\_Options  property.
	\item Camera Panels – one or more camera panels can be configured to be displayed anywhere on the screen.  This is configured in the rigclient.properties file by changing the following Number\_of\_Cameras and  Camera\_x (to specify formats) properties.
	
Video Format Selector – part of the Camera element, allows the user to select the format they want to see the camera feed in from a range of configured values
	\item Session Files element – Allows for file transfer from a specified directory on the Rig Client machine to the users machine.  It displays file that exist in a directory specified by the 	File\_Transfer\_Directory property in the rigclient.properties file.
	\item Left/Right Push - The left hand side and right hand side page content is, by default, set at a fixed width but there is code that allows these to be pushed closer to left and right screen edges. 
\end{itemize}

